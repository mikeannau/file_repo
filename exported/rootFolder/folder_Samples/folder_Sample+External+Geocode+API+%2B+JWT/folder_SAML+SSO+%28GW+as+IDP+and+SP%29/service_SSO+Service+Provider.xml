<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<l7:Service xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management" id="2f78655eee2098e20d6c563f9dcb9f96" version="6">
    <l7:ServiceDetail folderId="2f78655eee2098e20d6c563f9dcb9f0b" id="2f78655eee2098e20d6c563f9dcb9f96" version="6">
        <l7:Name>SSO Service Provider</l7:Name>
        <l7:Enabled>true</l7:Enabled>
        <l7:ServiceMappings>
            <l7:HttpMapping>
                <l7:UrlPattern>/saml2/websso/serviceprovider</l7:UrlPattern>
                <l7:Verbs>
                    <l7:Verb>GET</l7:Verb>
                    <l7:Verb>POST</l7:Verb>
                    <l7:Verb>PUT</l7:Verb>
                    <l7:Verb>DELETE</l7:Verb>
                </l7:Verbs>
            </l7:HttpMapping>
        </l7:ServiceMappings>
        <l7:Properties>
            <l7:Property key="internal">
                <l7:BooleanValue>false</l7:BooleanValue>
            </l7:Property>
            <l7:Property key="policyRevision">
                <l7:LongValue>8</l7:LongValue>
            </l7:Property>
            <l7:Property key="soap">
                <l7:BooleanValue>false</l7:BooleanValue>
            </l7:Property>
            <l7:Property key="tracingEnabled">
                <l7:BooleanValue>false</l7:BooleanValue>
            </l7:Property>
            <l7:Property key="wssProcessingEnabled">
                <l7:BooleanValue>false</l7:BooleanValue>
            </l7:Property>
        </l7:Properties>
    </l7:ServiceDetail>
    <l7:Resources>
        <l7:ResourceSet tag="policy">
            <l7:Resource type="policy" version="7">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:AuditAssertion/&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Seconds"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue="MTA="/&gt;
            &lt;L7p:VariableToSet stringValue="sessionTimeout"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="ZmFsc2U="/&gt;
            &lt;L7p:VariableToSet stringValue="isSamlResponse"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue="${request.http.parameter.SAMLResponse}"/&gt;
                    &lt;L7p:Expression2 stringValue=""/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Operator operator="EMPTY"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue="${request.http.parameter.RelayState}"/&gt;
                    &lt;L7p:Expression2 stringValue=""/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Operator operator="EMPTY"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="isSamlResponse"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:EncodeDecode&gt;
                    &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                    &lt;L7p:SourceVariableName stringValue="request.http.parameter.SAMLResponse"/&gt;
                    &lt;L7p:TargetContentType stringValue="text/xml; charset=utf-8"/&gt;
                    &lt;L7p:TargetDataType variableDataType="message"/&gt;
                    &lt;L7p:TargetVariableName stringValue="samlResponse"/&gt;
                    &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                &lt;/L7p:EncodeDecode&gt;
                &lt;L7p:SamlpResponseEvaluation&gt;
                    &lt;L7p:AuthenticationStatement samlAuthenticationInfo="included"&gt;
                        &lt;L7p:AuthenticationMethods stringArrayValue="included"/&gt;
                    &lt;/L7p:AuthenticationStatement&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="samlResponse"/&gt;
                    &lt;L7p:Version boxedIntegerValue="2"/&gt;
                &lt;/L7p:SamlpResponseEvaluation&gt;
                &lt;L7p:ResponseXpathAssertion&gt;
                    &lt;L7p:VariablePrefix stringValue="nameIdentifierValue"/&gt;
                    &lt;L7p:XmlMsgSrc stringValue="samlResponse"/&gt;
                    &lt;L7p:XpathExpression xpathExpressionValue="included"&gt;
                        &lt;L7p:Expression stringValue="/samlp2:Response/saml2:Assertion/saml2:Subject/saml2:NameID"/&gt;
                        &lt;L7p:Namespaces mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="saml2"/&gt;
                                &lt;L7p:value stringValue="urn:oasis:names:tc:SAML:2.0:assertion"/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="s"/&gt;
                                &lt;L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="samlp2"/&gt;
                                &lt;L7p:value stringValue="urn:oasis:names:tc:SAML:2.0:protocol"/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="ds"/&gt;
                                &lt;L7p:value stringValue="http://www.w3.org/2000/09/xmldsig#"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Namespaces&gt;
                        &lt;L7p:XpathVersion xpathVersion="XPATH_1_0"/&gt;
                    &lt;/L7p:XpathExpression&gt;
                &lt;/L7p:ResponseXpathAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtuYW1lSWRlbnRpZmllclZhbHVlLnJlc3VsdH0="/&gt;
                    &lt;L7p:VariableToSet stringValue="nameIdentifierValue"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:HardcodedResponse&gt;
                    &lt;L7p:ResponseContentType stringValue="text/html; charset=UTF-8"/&gt;
                    &lt;L7p:ResponseStatus stringValue="302"/&gt;
                &lt;/L7p:HardcodedResponse&gt;
                &lt;L7p:EncodeDecode&gt;
                    &lt;L7p:SourceVariableName stringValue="request.http.parameter.RelayState"/&gt;
                    &lt;L7p:TargetDataType variableDataType="string"/&gt;
                    &lt;L7p:TargetVariableName stringValue="relayState"/&gt;
                    &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                &lt;/L7p:EncodeDecode&gt;
                &lt;L7p:AddHeader&gt;
                    &lt;L7p:HeaderName stringValue="Location"/&gt;
                    &lt;L7p:HeaderValue stringValue="https://${request.url.host}:8443${relayState}"/&gt;
                    &lt;L7p:RemoveExisting booleanValue="true"/&gt;
                    &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;/L7p:AddHeader&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:UUIDGenerator&gt;
                        &lt;L7p:TargetVariable stringValue="guid"/&gt;
                    &lt;/L7p:UUIDGenerator&gt;
                    &lt;L7p:CacheStorage&gt;
                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Key: ${guid}"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:CacheEntryKey stringValue="${guid}"/&gt;
                        &lt;L7p:CacheId stringValue="ssoSessionCache"/&gt;
                        &lt;L7p:MaxEntries stringValue="10000"/&gt;
                        &lt;L7p:MaxEntryAgeSeconds stringValue="${sessionTimeout}"/&gt;
                        &lt;L7p:MaxEntrySizeBytes stringValue="100"/&gt;
                        &lt;L7p:OtherTargetMessageVariable stringValue="nameIdentifierValue"/&gt;
                        &lt;L7p:Target target="OTHER"/&gt;
                    &lt;/L7p:CacheStorage&gt;
                    &lt;L7p:EncodeDecode&gt;
                        &lt;L7p:SourceVariableName stringValue="guid"/&gt;
                        &lt;L7p:TargetDataType variableDataType="string"/&gt;
                        &lt;L7p:TargetVariableName stringValue="guid"/&gt;
                        &lt;L7p:TransformType transformType="BASE64_ENCODE"/&gt;
                    &lt;/L7p:EncodeDecode&gt;
                    &lt;L7p:EncodeDecode&gt;
                        &lt;L7p:SourceVariableName stringValue="guid"/&gt;
                        &lt;L7p:TargetDataType variableDataType="string"/&gt;
                        &lt;L7p:TargetVariableName stringValue="guid"/&gt;
                        &lt;L7p:TransformType transformType="URL_ENCODE"/&gt;
                    &lt;/L7p:EncodeDecode&gt;
                    &lt;L7p:AddHeader&gt;
                        &lt;L7p:HeaderName stringValue="Set-Cookie"/&gt;
                        &lt;L7p:HeaderValue stringValue="L7SPSESSION=${guid}"/&gt;
                        &lt;L7p:Target target="RESPONSE"/&gt;
                    &lt;/L7p:AddHeader&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// Set session cookie"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Process SAML response"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${isSamlResponse}"/&gt;
                    &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="boolean"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:RightValue stringValue="false"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:CookieCredentialSource&gt;
                            &lt;L7p:CookieName stringValue="L7SPSESSION"/&gt;
                            &lt;L7p:VariablePrefix stringValue="session"/&gt;
                        &lt;/L7p:CookieCredentialSource&gt;
                        &lt;L7p:EncodeDecode&gt;
                            &lt;L7p:SourceVariableName stringValue="session.L7SPSESSION"/&gt;
                            &lt;L7p:TargetDataType variableDataType="string"/&gt;
                            &lt;L7p:TargetVariableName stringValue="session.L7SPSESSION"/&gt;
                            &lt;L7p:TransformType transformType="URL_DECODE"/&gt;
                        &lt;/L7p:EncodeDecode&gt;
                        &lt;L7p:EncodeDecode&gt;
                            &lt;L7p:SourceVariableName stringValue="session.L7SPSESSION"/&gt;
                            &lt;L7p:TargetDataType variableDataType="string"/&gt;
                            &lt;L7p:TargetVariableName stringValue="session.L7SPSESSION"/&gt;
                            &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                        &lt;/L7p:EncodeDecode&gt;
                        &lt;L7p:CacheLookup&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Key: ${session.L7SPSESSION}"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:CacheEntryKey stringValue="${session.L7SPSESSION}"/&gt;
                            &lt;L7p:CacheId stringValue="ssoSessionCache"/&gt;
                            &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                            &lt;L7p:MaxEntryAgeSeconds stringValue="${sessionTimeout}"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="sessionState"/&gt;
                            &lt;L7p:Target target="OTHER"/&gt;
                        &lt;/L7p:CacheLookup&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtzZXNzaW9uU3RhdGUubWFpbnBhcnR9"/&gt;
                            &lt;L7p:VariableToSet stringValue="nameIdentifierValue"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:Enabled booleanValue="false"/&gt;
                            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
                            &lt;L7p:ProtectedServiceUrl stringValue="http://sde.l7tech.com${request.url.path}${request.url.query}"/&gt;
                            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Rules&gt;
                            &lt;/L7p:RequestHeaderRules&gt;
                            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                            &lt;/L7p:RequestParamRules&gt;
                            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Rules&gt;
                            &lt;/L7p:ResponseHeaderRules&gt;
                        &lt;/L7p:HttpRoutingAssertion&gt;
                        &lt;L7p:HardcodedResponse&gt;
                            &lt;L7p:Base64ResponseBody stringValue="PGgxPkNvbmdyYXR1bGF0aW9ucywgJHtuYW1lSWRlbnRpZmllclZhbHVlfSE8L2gxPgo8cD5IZXJlIGlzIHlvdXIgcHJvdGVjdGVkIHJlc291cmNlOjwvcD4KPHA+JHtyZXF1ZXN0LnVybH08L3A+"/&gt;
                            &lt;L7p:Enabled booleanValue="false"/&gt;
                            &lt;L7p:ResponseContentType stringValue="text/html; charset=UTF-8"/&gt;
                        &lt;/L7p:HardcodedResponse&gt;
                        &lt;L7p:HardcodedResponse&gt;
                            &lt;L7p:Base64ResponseBody stringValue="PCFET0NUWVBFIGh0bWw+CjxodG1sPgoKPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCIvPgogICAgPHRpdGxlPkNBIEFQSSBHYXRld2F5IFNBTUwgU2lnbiBPbjwvdGl0bGU+CgogICAgPCEtLSAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImNzcy9yZXNldC5jc3MiPi0tPgoKICAgIDxsaW5rIHJlbD0nc3R5bGVzaGVldCBwcmVmZXRjaCcgaHJlZj0naHR0cDovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvOjQwMCwxMDAsMzAwLDUwMCw3MDAsOTAwfFJvYm90b0RyYWZ0OjQwMCwxMDAsMzAwLDUwMCw3MDAsOTAwJy8+CiAgICA8bGluayByZWw9J3N0eWxlc2hlZXQgcHJlZmV0Y2gnIGhyZWY9J2h0dHA6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC4zLjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzJy8+CgogICAgPCEtLSAgICAgICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJjc3Mvc3R5bGUuY3NzIj4tLT4KCiAgICA8c3R5bGU+CiAgICAgICAgaHRtbCwKICAgICAgICBib2R5LAogICAgICAgIGRpdiwKICAgICAgICBzcGFuLAogICAgICAgIGFwcGxldCwKICAgICAgICBvYmplY3QsCiAgICAgICAgaWZyYW1lLAogICAgICAgIGgxLAogICAgICAgIGgyLAogICAgICAgIGgzLAogICAgICAgIGg0LAogICAgICAgIGg1LAogICAgICAgIGg2LAogICAgICAgIHAsCiAgICAgICAgYmxvY2txdW90ZSwKICAgICAgICBwcmUsCiAgICAgICAgYSwKICAgICAgICBhYmJyLAogICAgICAgIGFjcm9ueW0sCiAgICAgICAgYWRkcmVzcywKICAgICAgICBiaWcsCiAgICAgICAgY2l0ZSwKICAgICAgICBjb2RlLAogICAgICAgIGRlbCwKICAgICAgICBkZm4sCiAgICAgICAgZW0sCiAgICAgICAgaW1nLAogICAgICAgIGlucywKICAgICAgICBrYmQsCiAgICAgICAgcSwKICAgICAgICBzLAogICAgICAgIHNhbXAsCiAgICAgICAgc21hbGwsCiAgICAgICAgc3RyaWtlLAogICAgICAgIHN0cm9uZywKICAgICAgICBzdWIsCiAgICAgICAgc3VwLAogICAgICAgIHR0LAogICAgICAgIHZhciwKICAgICAgICBiLAogICAgICAgIHUsCiAgICAgICAgaSwKICAgICAgICBjZW50ZXIsCiAgICAgICAgZGwsCiAgICAgICAgZHQsCiAgICAgICAgZGQsCiAgICAgICAgb2wsCiAgICAgICAgdWwsCiAgICAgICAgbGksCiAgICAgICAgZmllbGRzZXQsCiAgICAgICAgZm9ybSwKICAgICAgICBsYWJlbCwKICAgICAgICBsZWdlbmQsCiAgICAgICAgdGFibGUsCiAgICAgICAgY2FwdGlvbiwKICAgICAgICB0Ym9keSwKICAgICAgICB0Zm9vdCwKICAgICAgICB0aGVhZCwKICAgICAgICB0ciwKICAgICAgICB0aCwKICAgICAgICB0ZCwKICAgICAgICBhcnRpY2xlLAogICAgICAgIGFzaWRlLAogICAgICAgIGNhbnZhcywKICAgICAgICBkZXRhaWxzLAogICAgICAgIGVtYmVkLAogICAgICAgIGZpZ3VyZSwKICAgICAgICBmaWdjYXB0aW9uLAogICAgICAgIGZvb3RlciwKICAgICAgICBoZWFkZXIsCiAgICAgICAgaGdyb3VwLAogICAgICAgIG1lbnUsCiAgICAgICAgbmF2LAogICAgICAgIG91dHB1dCwKICAgICAgICBydWJ5LAogICAgICAgIHNlY3Rpb24sCiAgICAgICAgc3VtbWFyeSwKICAgICAgICB0aW1lLAogICAgICAgIG1hcmssCiAgICAgICAgYXVkaW8sCiAgICAgICAgdmlkZW8gewogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgZm9udC1zaXplOiAxMDAlOwogICAgICAgICAgICBmb250OiBpbmhlcml0OwogICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmUKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgYXJ0aWNsZSwKICAgICAgICBhc2lkZSwKICAgICAgICBkZXRhaWxzLAogICAgICAgIGZpZ2NhcHRpb24sCiAgICAgICAgZmlndXJlLAogICAgICAgIGZvb3RlciwKICAgICAgICBoZWFkZXIsCiAgICAgICAgaGdyb3VwLAogICAgICAgIG1lbnUsCiAgICAgICAgbmF2LAogICAgICAgIHNlY3Rpb24gewogICAgICAgICAgICBkaXNwbGF5OiBibG9jawogICAgICAgIH0KICAgICAgICAKICAgICAgICBib2R5IHsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgb2wsCiAgICAgICAgdWwgewogICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGJsb2NrcXVvdGUsCiAgICAgICAgcSB7CiAgICAgICAgICAgIHF1b3Rlczogbm9uZQogICAgICAgIH0KICAgICAgICAKICAgICAgICBibG9ja3F1b3RlOmJlZm9yZSwKICAgICAgICBibG9ja3F1b3RlOmFmdGVyLAogICAgICAgIHE6YmVmb3JlLAogICAgICAgIHE6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgY29udGVudDogbm9uZQogICAgICAgIH0KICAgICAgICAKICAgICAgICB0YWJsZSB7CiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgICAgIGJvcmRlci1zcGFjaW5nOiAwCiAgICAgICAgfQogICAgPC9zdHlsZT4KCiAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlOWU5ZTk7CiAgICAgICAgICAgIGNvbG9yOiAjNjY2NjY2OwogICAgICAgICAgICBmb250LWZhbWlseTogJ1JvYm90b0RyYWZ0JywgJ1JvYm90bycsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogICAgICAgICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogICAgICAgIH0KICAgICAgICAvKiBQZW4gVGl0bGUgKi8KICAgICAgICAKICAgICAgICAucGVuLXRpdGxlIHsKICAgICAgICAgICAgcGFkZGluZzogNTBweCAwOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAycHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wZW4tdGl0bGUgaDEgewogICAgICAgICAgICBtYXJnaW46IDAgMCAyMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDQ4cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5wZW4tdGl0bGUgc3BhbiB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnBlbi10aXRsZSBzcGFuIC5mYSB7CiAgICAgICAgICAgIGNvbG9yOiAjZWQyNTUzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucGVuLXRpdGxlIHNwYW4gYSB7CiAgICAgICAgICAgIGNvbG9yOiAjZWQyNTUzOwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgfQogICAgICAgIC8qIFJlcnVuICovCiAgICAgICAgCiAgICAgICAgLnJlcnVuIHsKICAgICAgICAgICAgbWFyZ2luOiAwIDAgMzBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucmVydW4gYSB7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZWQyNTUzOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjI0KTsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IDAuM3MgZWFzZTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zcyBlYXNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAucmVydW4gYTpob3ZlciB7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMTYpLCAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIzKTsKICAgICAgICB9CiAgICAgICAgLyogU2Nyb2xsIFRvIEJvdHRvbSAqLwogICAgICAgIAogICAgICAgICNjb2RlcGVuLAogICAgICAgICNwb3J0Zm9saW8gewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIGJvdHRvbTogMzBweDsKICAgICAgICAgICAgcmlnaHQ6IDMwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMzNjM2MzY7CiAgICAgICAgICAgIHdpZHRoOiA1NnB4OwogICAgICAgICAgICBoZWlnaHQ6IDU2cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjI0KTsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjNzIGVhc2U7CiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuM3MgZWFzZTsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgI2NvZGVwZW4gaSwKICAgICAgICAjcG9ydGZvbGlvIGkgewogICAgICAgICAgICBsaW5lLWhlaWdodDogNTZweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgI2NvZGVwZW46aG92ZXIsCiAgICAgICAgI3BvcnRmb2xpbzpob3ZlciB7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xOSksIDAgNnB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMjMpOwogICAgICAgIH0KICAgICAgICAvKiBDb2RlUGVuICovCiAgICAgICAgCiAgICAgICAgI3BvcnRmb2xpbyB7CiAgICAgICAgICAgIGJvdHRvbTogOTZweDsKICAgICAgICAgICAgcmlnaHQ6IDM2cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlZDI1NTM7CiAgICAgICAgICAgIHdpZHRoOiA0NHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQ0cHg7CiAgICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBidXR0b25GYWRlSW5VcCAxcyBlYXNlOwogICAgICAgICAgICBhbmltYXRpb246IGJ1dHRvbkZhZGVJblVwIDFzIGVhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgICNwb3J0Zm9saW8gaSB7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0NHB4OwogICAgICAgIH0KICAgICAgICAvKiBDb250YWluZXIgKi8KICAgICAgICAKICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBtYXgtd2lkdGg6IDQ2MHB4OwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG8gMTAwcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jb250YWluZXIuYWN0aXZlIC5jYXJkOmZpcnN0LWNoaWxkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2YyZjJmMjsKICAgICAgICAgICAgbWFyZ2luOiAwIDE1cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jb250YWluZXIuYWN0aXZlIC5jYXJkOm50aC1jaGlsZCgyKSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7CiAgICAgICAgICAgIG1hcmdpbjogMCAxMHB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGFpbmVyLmFjdGl2ZSAuY2FyZC5hbHQgewogICAgICAgICAgICB0b3A6IDIwcHg7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWluLXdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IGF1dG87CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogNjBweCAwIDQwcHg7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jb250YWluZXIuYWN0aXZlIC5jYXJkLmFsdCAudG9nZ2xlIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDQwcHg7CiAgICAgICAgICAgIHJpZ2h0OiAtNzBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZTsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEwKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxMCk7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gLjNzIGVhc2U7CiAgICAgICAgICAgIHRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2U7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZSwgLXdlYmtpdC10cmFuc2Zvcm0gLjNzIGVhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jb250YWluZXIuYWN0aXZlIC5jYXJkLmFsdCAudG9nZ2xlOmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGFpbmVyLmFjdGl2ZSAuY2FyZC5hbHQgLnRpdGxlLAogICAgICAgIC5jb250YWluZXIuYWN0aXZlIC5jYXJkLmFsdCAuaW5wdXQtY29udGFpbmVyLAogICAgICAgIC5jb250YWluZXIuYWN0aXZlIC5jYXJkLmFsdCAuYnV0dG9uLWNvbnRhaW5lciB7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLjNzIGVhc2U7CiAgICAgICAgICAgIHRyYW5zaXRpb246IC4zcyBlYXNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGFpbmVyLmFjdGl2ZSAuY2FyZC5hbHQgLnRpdGxlIHsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OiAuM3M7CiAgICAgICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IC4zczsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNvbnRhaW5lci5hY3RpdmUgLmNhcmQuYWx0IC5pbnB1dC1jb250YWluZXIgewogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IC40czsKICAgICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogLjRzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGFpbmVyLmFjdGl2ZSAuY2FyZC5hbHQgLmlucHV0LWNvbnRhaW5lcjpudGgtY2hpbGQoMikgewogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IC41czsKICAgICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogLjVzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGFpbmVyLmFjdGl2ZSAuY2FyZC5hbHQgLmlucHV0LWNvbnRhaW5lcjpudGgtY2hpbGQoMykgewogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IC42czsKICAgICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogLjZzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY29udGFpbmVyLmFjdGl2ZSAuY2FyZC5hbHQgLmJ1dHRvbi1jb250YWluZXIgewogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IC43czsKICAgICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogLjdzOwogICAgICAgIH0KICAgICAgICAvKiBDYXJkICovCiAgICAgICAgCiAgICAgICAgLmNhcmQgewogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogNjBweCAwIDQwcHggMDsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xMiksIDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMjQpOwogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IC4zcyBlYXNlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAuM3MgZWFzZTsKICAgICAgICAgICAgLyogVGl0bGUgKi8KICAgICAgICAgICAgLyogSW5wdXRzICovCiAgICAgICAgICAgIC8qIEJ1dHRvbiAqLwogICAgICAgICAgICAvKiBGb290ZXIgKi8KICAgICAgICAgICAgLyogQWx0IENhcmQgKi8KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQ6Zmlyc3QtY2hpbGQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOwogICAgICAgICAgICBoZWlnaHQ6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweCA1cHggMCAwOwogICAgICAgICAgICBtYXJnaW46IDAgMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLnRpdGxlIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNlZDI1NTM7CiAgICAgICAgICAgIG1hcmdpbjogMCAwIDM1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMCAxMHB4IDUwcHg7CiAgICAgICAgICAgIGNvbG9yOiAjZWQyNTUzOwogICAgICAgICAgICBmb250LXNpemU6IDMycHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5pbnB1dC1jb250YWluZXIgewogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG1hcmdpbjogMCA2MHB4IDUwcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5pbnB1dC1jb250YWluZXIgaW5wdXQgewogICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgY29sb3I6ICMyMTIxMjE7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLmlucHV0LWNvbnRhaW5lciBpbnB1dDpmb2N1cyB+IGxhYmVsIHsKICAgICAgICAgICAgY29sb3I6ICM5ZDlkOWQ7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEyJSwgLTUwJSkgc2NhbGUoMC43NSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC0xMiUsIC01MCUpIHNjYWxlKDAuNzUpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuaW5wdXQtY29udGFpbmVyIGlucHV0OmZvY3VzIH4gLmJhcjpiZWZvcmUsCiAgICAgICAgLmNhcmQgLmlucHV0LWNvbnRhaW5lciBpbnB1dDpmb2N1cyB+IC5iYXI6YWZ0ZXIgewogICAgICAgICAgICB3aWR0aDogNTAlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuaW5wdXQtY29udGFpbmVyIGlucHV0OnZhbGlkIH4gbGFiZWwgewogICAgICAgICAgICBjb2xvcjogIzlkOWQ5ZDsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMTIlLCAtNTAlKSBzY2FsZSgwLjc1KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEyJSwgLTUwJSkgc2NhbGUoMC43NSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5pbnB1dC1jb250YWluZXIgbGFiZWwgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgY29sb3I6ICM3NTc1NzU7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogMC4ycyBlYXNlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5pbnB1dC1jb250YWluZXIgLmJhciB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgYm90dG9tOiAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNzU3NTc1OwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5pbnB1dC1jb250YWluZXIgLmJhcjpiZWZvcmUsCiAgICAgICAgLmNhcmQgLmlucHV0LWNvbnRhaW5lciAuYmFyOmFmdGVyIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2VkMjU1MzsKICAgICAgICAgICAgd2lkdGg6IDA7CiAgICAgICAgICAgIGhlaWdodDogMnB4OwogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IC4ycyBlYXNlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAuMnMgZWFzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLmlucHV0LWNvbnRhaW5lciAuYmFyOmJlZm9yZSB7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLmlucHV0LWNvbnRhaW5lciAuYmFyOmFmdGVyIHsKICAgICAgICAgICAgcmlnaHQ6IDUwJTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLmJ1dHRvbi1jb250YWluZXIgewogICAgICAgICAgICBtYXJnaW46IDAgNjBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuYnV0dG9uLWNvbnRhaW5lciBidXR0b24gewogICAgICAgICAgICBvdXRsaW5lOiAwOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAwOwogICAgICAgICAgICB3aWR0aDogMjQwcHg7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNlM2UzZTM7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMDsKICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBsaW5lLWhlaWdodDogMTsKICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiAuM3MgZWFzZTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogLjNzIGVhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5idXR0b24tY29udGFpbmVyIGJ1dHRvbiBzcGFuIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICBjb2xvcjogI2RkZDsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiAuM3MgZWFzZTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogLjNzIGVhc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5idXR0b24tY29udGFpbmVyIGJ1dHRvbjpiZWZvcmUgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDUwJTsKICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2VkMjU1MzsKICAgICAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsKICAgICAgICAgICAgbWFyZ2luOiAtMTVweCAwIDAgLTE1cHg7CiAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLjNzIGVhc2U7CiAgICAgICAgICAgIHRyYW5zaXRpb246IC4zcyBlYXNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuYnV0dG9uLWNvbnRhaW5lciBidXR0b246aG92ZXIsCiAgICAgICAgLmNhcmQgLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uOmFjdGl2ZSwKICAgICAgICAuY2FyZCAuYnV0dG9uLWNvbnRhaW5lciBidXR0b246Zm9jdXMgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNlZDI1NTM7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkIC5idXR0b24tY29udGFpbmVyIGJ1dHRvbjpob3ZlciBzcGFuLAogICAgICAgIC5jYXJkIC5idXR0b24tY29udGFpbmVyIGJ1dHRvbjphY3RpdmUgc3BhbiwKICAgICAgICAuY2FyZCAuYnV0dG9uLWNvbnRhaW5lciBidXR0b246Zm9jdXMgc3BhbiB7CiAgICAgICAgICAgIGNvbG9yOiAjZWQyNTUzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuYnV0dG9uLWNvbnRhaW5lciBidXR0b246YWN0aXZlIHNwYW4sCiAgICAgICAgLmNhcmQgLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uOmZvY3VzIHNwYW4gewogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uOmFjdGl2ZTpiZWZvcmUsCiAgICAgICAgLmNhcmQgLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uOmZvY3VzOmJlZm9yZSB7CiAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxMCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMTApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuZm9vdGVyIHsKICAgICAgICAgICAgbWFyZ2luOiA0MHB4IDAgMDsKICAgICAgICAgICAgY29sb3I6ICNkM2QzZDM7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZCAuZm9vdGVyIGEgewogICAgICAgICAgICBjb2xvcjogaW5oZXJpdDsKICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IC4zcyBlYXNlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAuM3MgZWFzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQgLmZvb3RlciBhOmhvdmVyIHsKICAgICAgICAgICAgY29sb3I6ICNiYWJhYmE7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiA0MHB4OwogICAgICAgICAgICByaWdodDogLTcwcHg7CiAgICAgICAgICAgIHotaW5kZXg6IDEwOwogICAgICAgICAgICB3aWR0aDogMTQwcHg7CiAgICAgICAgICAgIGhlaWdodDogMTQwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLjNzIGVhc2U7CiAgICAgICAgICAgIHRyYW5zaXRpb246IC4zcyBlYXNlOwogICAgICAgICAgICAvKiBUb2dnbGUgKi8KICAgICAgICAgICAgLyogVGl0bGUgKi8KICAgICAgICAgICAgLyogSW5wdXQgKi8KICAgICAgICAgICAgLyogQnV0dG9uICovCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCAudG9nZ2xlIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZWQyNTUzOwogICAgICAgICAgICB3aWR0aDogMTQwcHg7CiAgICAgICAgICAgIGhlaWdodDogMTQwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjI0KTsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogNThweDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE0MHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQuYWx0IC50b2dnbGU6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJ1xmMDQwJzsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCAxNHB4LzEgRm9udEF3ZXNvbWU7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAgICAgdGV4dC1yZW5kZXJpbmc6IGF1dG87CiAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogICAgICAgICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQuYWx0IC50aXRsZSwKICAgICAgICAuY2FyZC5hbHQgLmlucHV0LWNvbnRhaW5lciwKICAgICAgICAuY2FyZC5hbHQgLmJ1dHRvbi1jb250YWluZXIgewogICAgICAgICAgICBsZWZ0OiAxMDBweDsKICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZC5hbHQgLnRpdGxlIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZC5hbHQgLnRpdGxlIC5jbG9zZSB7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIHJpZ2h0OiA2MHB4OwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmU7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgICAgICBmb250LXNpemU6IDU4cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCAudGl0bGUgLmNsb3NlOmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICdcMDBkNyc7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCAuaW5wdXQtY29udGFpbmVyIGlucHV0IHsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCAuaW5wdXQtY29udGFpbmVyIGlucHV0OmZvY3VzIH4gbGFiZWwgewogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQuYWx0IC5pbnB1dC1jb250YWluZXIgaW5wdXQ6Zm9jdXMgfiAuYmFyOmJlZm9yZSwKICAgICAgICAuY2FyZC5hbHQgLmlucHV0LWNvbnRhaW5lciBpbnB1dDpmb2N1cyB+IC5iYXI6YWZ0ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZC5hbHQgLmlucHV0LWNvbnRhaW5lciBpbnB1dDp2YWxpZCB+IGxhYmVsIHsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCAuaW5wdXQtY29udGFpbmVyIGxhYmVsIHsKICAgICAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQuYWx0IC5pbnB1dC1jb250YWluZXIgLmJhciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLmNhcmQuYWx0IC5idXR0b24tY29udGFpbmVyIGJ1dHRvbiB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNmZmZmZmY7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jYXJkLmFsdCAuYnV0dG9uLWNvbnRhaW5lciBidXR0b24gc3BhbiB7CiAgICAgICAgICAgIGNvbG9yOiAjZWQyNTUzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZC5hbHQgLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAuY2FyZC5hbHQgLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uOmFjdGl2ZTpiZWZvcmUsCiAgICAgICAgLmNhcmQuYWx0IC5idXR0b24tY29udGFpbmVyIGJ1dHRvbjpmb2N1czpiZWZvcmUgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAvKiBLZXlmcmFtZXMgKi8KICAgICAgICAKICAgICAgICBALXdlYmtpdC1rZXlmcmFtZXMgYnV0dG9uRmFkZUluVXAgewogICAgICAgICAgICAwJSB7CiAgICAgICAgICAgICAgICBib3R0b206IDMwcHg7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEBrZXlmcmFtZXMgYnV0dG9uRmFkZUluVXAgewogICAgICAgICAgICAwJSB7CiAgICAgICAgICAgICAgICBib3R0b206IDMwcHg7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgPC9zdHlsZT4KCgo8L2hlYWQ+Cgo8Ym9keT4KCgogICAgPCEtLSBNaXhpbnMtLT4KICAgIDwhLS0gUGVuIFRpdGxlLS0+CiAgICA8ZGl2IGNsYXNzPSJwZW4tdGl0bGUiPgogICAgICAgIDxoMT5JbnRlcm5hbCBQb3J0YWw8L2gxPgogICAgICAgIDxzcGFuPlNBTUwgU2VydmljZSBQcm92aWRlcjwvc3Bhbj4KICAgIDwvZGl2PgogICAgPCEtLTxkaXYgY2xhc3M9InJlcnVuIj48YSBocmVmPSIiPlJlcnVuIFBlbjwvYT48L2Rpdj4tLT4KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgICAgIDxoMSBjbGFzcz0idGl0bGUiPldlbGNvbWUgJHtuYW1lSWRlbnRpZmllclZhbHVlfSE8L2gxPgoKCjxwPkhlcmUgaXMgeW91ciBwcm90ZWN0ZWQgcmVzb3VyY2U6PC9wPjxicj4KPHA+JHtyZXF1ZXN0LnVybH08L3A+CgoKCgogICAgICAgIDwvZGl2PgoKCgoKICAKICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPCEtLSBQb3J0Zm9saW8tLT48YSBpZD0icG9ydGZvbGlvIiBocmVmPSJodHRwOi8vYW5keXRyYW4ubWUvIiB0aXRsZT0iVmlldyBteSBwb3J0Zm9saW8hIj48aSBjbGFzcz0iZmEgZmEtbGluayI+PC9pPjwvYT4KICAgIDwhLS0gQ29kZVBlbi0tPjxhIGlkPSJjb2RlcGVuIiBocmVmPSJodHRwOi8vY29kZXBlbi5pby9hbmR5dHJhbi8iIHRpdGxlPSJGb2xsb3cgbWUhIj48aSBjbGFzcz0iZmEgZmEtY29kZXBlbiI+PC9pPjwvYT4KICAgIDxzY3JpcHQgc3JjPSdodHRwOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2pxdWVyeS8yLjEuMy9qcXVlcnkubWluLmpzJz48L3NjcmlwdD4KCiAgICA8IS0tICAgICAgICA8c2NyaXB0IHNyYz0ianMvaW5kZXguanMiPjwvc2NyaXB0Pi0tPgoKICAgIDxzY3JpcHQ+CiAgICAgICAgJCgnLnRvZ2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnLmNvbnRhaW5lcicpLnN0b3AoKS5hZGRDbGFzcygnYWN0aXZlJyk7CiAgICAgICAgfSk7CgogICAgICAgICQoJy5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnLmNvbnRhaW5lcicpLnN0b3AoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7CiAgICAgICAgfSk7CiAgICA8L3NjcmlwdD4KCgoKCgo8L2JvZHk+Cgo8L2h0bWw+"/&gt;
                            &lt;L7p:ResponseContentType stringValue="text/html; charset=UTF-8"/&gt;
                        &lt;/L7p:HardcodedResponse&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Valid session exists"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="L3NhbWwyL3dlYnNzby9pZGVudGl0eXByb3ZpZGVy"/&gt;
                            &lt;L7p:VariableToSet stringValue="identityProviderURI"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="aHR0cHM6Ly8ke3JlcXVlc3QudXJsLmhvc3R9Ojg0NDMke2lkZW50aXR5UHJvdmlkZXJVUkl9"/&gt;
                            &lt;L7p:VariableToSet stringValue="identityProviderURL"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="aHR0cHM6Ly8ke3JlcXVlc3QudXJsLmhvc3R9Ojg0NDMke3JlcXVlc3QudXJsLnBhdGh9"/&gt;
                            &lt;L7p:VariableToSet stringValue="serviceProviderURL"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0LnVybC5wYXRofSR7cmVxdWVzdC51cmwucXVlcnl9"/&gt;
                            &lt;L7p:VariableToSet stringValue="relayState"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:EncodeDecode&gt;
                            &lt;L7p:SourceVariableName stringValue="relayState"/&gt;
                            &lt;L7p:TargetDataType variableDataType="string"/&gt;
                            &lt;L7p:TargetVariableName stringValue="encodedRelayState"/&gt;
                            &lt;L7p:TransformType transformType="BASE64_ENCODE"/&gt;
                        &lt;/L7p:EncodeDecode&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=""/&gt;
                            &lt;L7p:ContentType stringValue="text/xml; charset=utf-8"/&gt;
                            &lt;L7p:DataType variableDataType="message"/&gt;
                            &lt;L7p:VariableToSet stringValue="samlRequest"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SamlpRequestBuilder&gt;
                            &lt;L7p:AuthenticationStatement samlAuthenticationInfo="included"&gt;
                                &lt;L7p:AuthenticationMethods stringArrayValue="included"/&gt;
                            &lt;/L7p:AuthenticationStatement&gt;
                            &lt;L7p:DestinationAttribute stringValue="${identityProviderURI}"/&gt;
                            &lt;L7p:NameIdentifierType nameIdentifierType="NONE"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="samlRequest"/&gt;
                            &lt;L7p:RequestId boxedIntegerValue="0"/&gt;
                            &lt;L7p:SoapVersion boxedIntegerValue="1"/&gt;

                            &lt;L7p:SubjectConfirmationDataNotBeforeSecondsInPast intValue="1"/&gt;

                            &lt;L7p:SubjectConfirmationDataNotOnOrAfterExpirySeconds intValue="3600"/&gt;
                            &lt;L7p:SubjectConfirmationDataRecipient stringValue="${serviceProviderURL}"/&gt;
                            &lt;L7p:SubjectConfirmationMethodUri stringValue="urn:oasis:names:tc:SAML:1.0:cm:bearer"/&gt;
                            &lt;L7p:Version boxedIntegerValue="2"/&gt;
                            &lt;L7p:XmlEncryptConfig xmlElementEncryptionConfig="included"/&gt;
                        &lt;/L7p:SamlpRequestBuilder&gt;
                        &lt;L7p:EncodeDecode&gt;
                            &lt;L7p:SourceVariableName stringValue="samlRequest.mainpart"/&gt;
                            &lt;L7p:TargetDataType variableDataType="string"/&gt;
                            &lt;L7p:TargetVariableName stringValue="encodedSamlRequest"/&gt;
                            &lt;L7p:TransformType transformType="BASE64_ENCODE"/&gt;
                        &lt;/L7p:EncodeDecode&gt;
                        &lt;L7p:HardcodedResponse&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="With Body OnLoad Script"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Base64ResponseBody stringValue="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxMS9EVEQveGh0bWwxMS5kdGQiPgo8aHRtbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sOmxhbmc9ImVuIj4KICAgIDxib2R5IG9ubG9hZD0iZG9jdW1lbnQuZm9ybXNbMF0uc3VibWl0KCkiPgogICAgICAgIDxmb3JtIGFjdGlvbj0iJHtpZGVudGl0eVByb3ZpZGVyVVJMfSIgIG1ldGhvZD0icG9zdCI+CiAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgUHJlc3MgdGhlIENvbnRpbnVlIGJ1dHRvbiB0byBQT1NUIHlvdXIgcmVzb3VyY2UgcmVxdWVzdCB3aXRoIFNBTUwgUmVzcG9uc2UgdG8gdGhlIGdhdGV3YXkuCiAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlJlbGF5U3RhdGUiCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9IiR7ZW5jb2RlZFJlbGF5U3RhdGV9Ii8+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJTQU1MUmVxdWVzdCIKICAgICAgICAgICAgICAgICAgICB2YWx1ZT0iJHtlbmNvZGVkU2FtbFJlcXVlc3R9Ii8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkNvbnRpbnVlIi8+CiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgIAogICAgICAgIDwvZm9ybT4KICAgIDwvYm9keT4KPC9odG1sPg=="/&gt;
                            &lt;L7p:EarlyResponse booleanValue="true"/&gt;
                            &lt;L7p:ResponseContentType stringValue="text/html; charset=UTF-8"/&gt;
                        &lt;/L7p:HardcodedResponse&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Valid session does not exist"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// Verify session"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Process other"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Process request"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
        </l7:ResourceSet>
    </l7:Resources>
</l7:Service>
